{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/neuralkissan/dashboard/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14;import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import styled from'styled-components';import SensorCard from'../components/SensorCard';import IoTStatusIndicator from'../components/IoTStatusIndicator';import{useSocket}from'../contexts/SocketContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.xl);const Section=styled.section(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  border-radius: \",\";\\n  padding: \",\";\\n  box-shadow: \",\";\\n\"])),props=>props.theme.colors.surface,props=>props.theme.borderRadius.lg,props=>props.theme.spacing.xl,props=>props.theme.shadows.sm);const SectionTitle=styled.h2(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-size: 1.5rem;\\n  font-weight: 700;\\n  color: \",\";\\n  margin-bottom: \",\";\\n  display: flex;\\n  align-items: center;\\n  gap: \",\";\\n\"])),props=>props.theme.colors.text,props=>props.theme.spacing.lg,props=>props.theme.spacing.sm);const UnitsGrid=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.lg);const UnitCard=styled(Link)(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: block;\\n  background: \",\";\\n  border-radius: \",\";\\n  padding: \",\";\\n  text-decoration: none;\\n  color: inherit;\\n  transition: \",\";\\n  border: 1px solid \",\";\\n\\n  &:hover {\\n    transform: translateY(-2px);\\n    box-shadow: \",\";\\n    border-color: \",\";\\n  }\\n\"])),props=>props.theme.colors.background,props=>props.theme.borderRadius.lg,props=>props.theme.spacing.lg,props=>props.theme.transitions.default,props=>props.theme.colors.border,props=>props.theme.shadows.md,props=>props.theme.colors.primary);const UnitHeader=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin-bottom: \",\";\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.md,props=>props.theme.spacing.sm);const UnitTitleContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.xs);const UnitTitle=styled.h3(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-size: \",\";\\n  font-weight: \",\";\\n  color: \",\";\\n  margin: 0;\\n\"])),props=>props.theme.fontSizes.lg,props=>props.theme.fontWeights.semibold,props=>props.theme.colors.text);const UnitType=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: \",\";\\n  color: \",\";\\n  text-transform: uppercase;\\n  letter-spacing: 0.05em;\\n\"])),props=>props.theme.fontSizes.xs,props=>props.theme.colors.textMuted);const StatusContainer=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: flex-end;\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.xs);const StatusBadge=styled.span(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  padding: \",\" \",\";\\n  border-radius: \",\";\\n  font-size: \",\";\\n  font-weight: \",\";\\n  text-transform: uppercase;\\n  letter-spacing: 0.05em;\\n  background: \",\";\\n  color: white;\\n\"])),props=>props.theme.spacing.xs,props=>props.theme.spacing.sm,props=>props.theme.borderRadius.full,props=>props.theme.fontSizes.xs,props=>props.theme.fontWeights.semibold,props=>getStatusColor(props.status,props.theme));const UnitMetrics=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.sm);const MetricItem=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: \",\";\\n  background: \",\";\\n  border-radius: \",\";\\n\"])),props=>props.theme.spacing.sm,props=>props.theme.colors.surface,props=>props.theme.borderRadius.md);const MetricLabel=styled.span(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font-size: 0.75rem;\\n  color: \",\";\\n  text-transform: uppercase;\\n  letter-spacing: 0.05em;\\n\"])),props=>props.theme.colors.textSecondary);const MetricValue=styled.span(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  font-weight: 600;\\n  color: \",\";\\n\"])),props=>props.theme.colors.text);const LoadingMessage=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: \",\";\\n  color: \",\";\\n\"])),props=>props.theme.spacing.xl,props=>props.theme.colors.textSecondary);function getStatusColor(status,theme){switch(status){case'normal':return theme.colors.success;case'warning':return theme.colors.warning;case'critical':return theme.colors.danger;default:return theme.colors.textMuted;}}function getUnitStatus(sensorData){if(!sensorData)return'unknown';const{reservoir}=sensorData;if(!reservoir)return'unknown';// Check critical ranges\nif(reservoir.ph<5.5||reservoir.ph>7.5)return'critical';if(reservoir.tds<500||reservoir.tds>1500)return'critical';if(reservoir.water_level<20)return'critical';// Check warning ranges\nif(reservoir.ph<6.0||reservoir.ph>7.0)return'warning';if(reservoir.tds<700||reservoir.tds>1300)return'warning';if(reservoir.water_level<50)return'warning';return'normal';}const Dashboard=()=>{var _roomData$front$bme,_roomData$front$bme2,_roomData$back$bme,_roomData$back$ac;const[hydroUnitsData,setHydroUnitsData]=useState({});const[roomData,setRoomData]=useState({front:null,back:null});const[cameraStats,setCameraStats]=useState({total:0,online:0});const[loading,setLoading]=useState(true);const{connected}=useSocket();const hydroUnits=[{id:'DWC1',name:'Deep Water Culture 1',type:'Deep Water Culture',icon:'üíß'},{id:'DWC2',name:'Deep Water Culture 2',type:'Deep Water Culture',icon:'üíß'},{id:'NFT',name:'Nutrient Film Technique',type:'NFT System',icon:'üåä'},{id:'AERO',name:'Aeroponic System',type:'Aeroponic',icon:'üí®'},{id:'TROUGH',name:'Trough Based System',type:'Trough System',icon:'üîÑ'}];useEffect(()=>{const fetchData=async()=>{try{setLoading(true);// Fetch hydro units data\nconst hydroPromises=hydroUnits.map(async unit=>{const response=await axios.get(\"/units/\".concat(unit.id,\"/sensors\"));return{unitId:unit.id,data:response.data};});const hydroResults=await Promise.all(hydroPromises);const hydroData={};hydroResults.forEach(_ref=>{let{unitId,data}=_ref;hydroData[unitId]=data;});setHydroUnitsData(hydroData);// Fetch room data\nconst[frontResponse,backResponse]=await Promise.all([axios.get('/room/front/sensors'),axios.get('/room/back/sensors')]);setRoomData({front:frontResponse.data,back:backResponse.data});// Fetch camera statistics\nlet totalCameras=0;let onlineCameras=0;for(const unit of hydroUnits){try{const cameraResponse=await axios.get(\"/cameras/\".concat(unit.id));const cameras=cameraResponse.data.cameras||[];totalCameras+=cameras.length;// Count online cameras (images received within 5 minutes)\nconst now=Math.floor(Date.now()/1000);cameras.forEach(camera=>{if(camera.last_image_timestamp&&now-camera.last_image_timestamp<=300){onlineCameras++;}});}catch(error){console.warn(\"Error fetching cameras for \".concat(unit.id,\":\"),error);}}setCameraStats({total:totalCameras,online:onlineCameras});}catch(error){console.error('Error fetching dashboard data:',error);}finally{setLoading(false);}};fetchData();const interval=setInterval(fetchData,30000);// Refresh every 30 seconds\nreturn()=>clearInterval(interval);},[]);if(loading){return/*#__PURE__*/_jsx(LoadingMessage,{children:\"Loading dashboard data...\"});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83C\\uDF3F System Overview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-grid\",children:[/*#__PURE__*/_jsx(SensorCard,{title:\"Total Systems\",value:hydroUnits.length,unit:\"systems\",status:\"normal\",icon:\"\\uD83C\\uDF31\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Systems Online\",value:Object.keys(hydroUnitsData).length,unit:\"active\",status:Object.keys(hydroUnitsData).length===hydroUnits.length?'normal':'warning',icon:\"\\u2705\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Average pH\",value:Object.values(hydroUnitsData).length>0?Object.values(hydroUnitsData).reduce((sum,unit)=>{var _unit$reservoir;return sum+(((_unit$reservoir=unit.reservoir)===null||_unit$reservoir===void 0?void 0:_unit$reservoir.ph)||0);},0)/Object.values(hydroUnitsData).length:0,unit:\"\",status:\"normal\",icon:\"\\u2697\\uFE0F\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Cameras Online\",value:\"\".concat(cameraStats.online,\"/\").concat(cameraStats.total),unit:\"cameras\",status:cameraStats.online===cameraStats.total?'normal':cameraStats.online>0?'warning':'critical',icon:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"WebSocket\",value:connected?'Connected':'Disconnected',status:connected?'normal':'critical',icon:\"\\uD83D\\uDCE1\"})]})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83C\\uDF31 Hydroponic Systems\"}),/*#__PURE__*/_jsx(UnitsGrid,{children:hydroUnits.map(unit=>{var _data$reservoir,_data$reservoir$ph,_data$reservoir2,_data$reservoir3,_data$reservoir3$wate,_data$reservoir4;const data=hydroUnitsData[unit.id];const status=getUnitStatus(data);return/*#__PURE__*/_jsxs(UnitCard,{to:\"/hydro-units/\".concat(unit.id),children:[/*#__PURE__*/_jsxs(UnitHeader,{children:[/*#__PURE__*/_jsxs(UnitTitleContainer,{children:[/*#__PURE__*/_jsxs(UnitTitle,{children:[unit.icon,\" \",unit.id]}),/*#__PURE__*/_jsx(UnitType,{children:unit.type})]}),/*#__PURE__*/_jsxs(StatusContainer,{children:[/*#__PURE__*/_jsx(IoTStatusIndicator,{unitId:unit.id,timestamp:data===null||data===void 0?void 0:data.timestamp,compact:false}),/*#__PURE__*/_jsx(StatusBadge,{status:status,children:status})]})]}),data?/*#__PURE__*/_jsxs(UnitMetrics,{children:[/*#__PURE__*/_jsxs(MetricItem,{children:[/*#__PURE__*/_jsx(MetricLabel,{children:\"pH\"}),/*#__PURE__*/_jsx(MetricValue,{children:((_data$reservoir=data.reservoir)===null||_data$reservoir===void 0?void 0:(_data$reservoir$ph=_data$reservoir.ph)===null||_data$reservoir$ph===void 0?void 0:_data$reservoir$ph.toFixed(1))||'N/A'})]}),/*#__PURE__*/_jsxs(MetricItem,{children:[/*#__PURE__*/_jsx(MetricLabel,{children:\"TDS\"}),/*#__PURE__*/_jsx(MetricValue,{children:((_data$reservoir2=data.reservoir)===null||_data$reservoir2===void 0?void 0:_data$reservoir2.tds)||'N/A'})]}),/*#__PURE__*/_jsxs(MetricItem,{children:[/*#__PURE__*/_jsx(MetricLabel,{children:\"Water Temp\"}),/*#__PURE__*/_jsxs(MetricValue,{children:[((_data$reservoir3=data.reservoir)===null||_data$reservoir3===void 0?void 0:(_data$reservoir3$wate=_data$reservoir3.water_temp)===null||_data$reservoir3$wate===void 0?void 0:_data$reservoir3$wate.toFixed(1))||'N/A',\"\\xB0C\"]})]}),/*#__PURE__*/_jsxs(MetricItem,{children:[/*#__PURE__*/_jsx(MetricLabel,{children:\"Water Level\"}),/*#__PURE__*/_jsxs(MetricValue,{children:[((_data$reservoir4=data.reservoir)===null||_data$reservoir4===void 0?void 0:_data$reservoir4.water_level)||'N/A',\"%\"]})]})]}):/*#__PURE__*/_jsx(LoadingMessage,{children:\"No data available\"})]},unit.id);})})]}),/*#__PURE__*/_jsxs(Section,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"\\uD83C\\uDFE0 Room Monitoring\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-grid\",children:[roomData.front&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SensorCard,{title:\"Front Room Temp\",value:(_roomData$front$bme=roomData.front.bme)===null||_roomData$front$bme===void 0?void 0:_roomData$front$bme.temp,unit:\"\\xB0C\",timestamp:roomData.front.timestamp,ranges:{warning:{min:18,max:30},critical:{min:15,max:35}},icon:\"\\uD83C\\uDF21\\uFE0F\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Front Room Humidity\",value:(_roomData$front$bme2=roomData.front.bme)===null||_roomData$front$bme2===void 0?void 0:_roomData$front$bme2.humidity,unit:\"%\",timestamp:roomData.front.timestamp,ranges:{warning:{min:40,max:80},critical:{min:30,max:90}},icon:\"\\uD83D\\uDCA7\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Front Room CO2\",value:roomData.front.co2,unit:\"ppm\",timestamp:roomData.front.timestamp,ranges:{warning:{min:300,max:1200},critical:{min:250,max:1500}},icon:\"\\uD83C\\uDF2C\\uFE0F\"})]}),roomData.back&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(SensorCard,{title:\"Back Room Temp\",value:(_roomData$back$bme=roomData.back.bme)===null||_roomData$back$bme===void 0?void 0:_roomData$back$bme.temp,unit:\"\\xB0C\",timestamp:roomData.back.timestamp,ranges:{warning:{min:18,max:30},critical:{min:15,max:35}},icon:\"\\uD83C\\uDF21\\uFE0F\"}),/*#__PURE__*/_jsx(SensorCard,{title:\"Back Room AC\",value:(_roomData$back$ac=roomData.back.ac)===null||_roomData$back$ac===void 0?void 0:_roomData$back$ac.current_set_temp,unit:\"\\xB0C\",status:\"normal\",timestamp:roomData.back.timestamp,icon:\"\\u2744\\uFE0F\"})]})]})]})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","styled","SensorCard","IoTStatusIndicator","useSocket","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","props","theme","spacing","xl","Section","section","_templateObject2","colors","surface","borderRadius","lg","shadows","sm","SectionTitle","h2","_templateObject3","text","UnitsGrid","_templateObject4","UnitCard","_templateObject5","background","transitions","default","border","md","primary","UnitHeader","_templateObject6","UnitTitleContainer","_templateObject7","xs","UnitTitle","h3","_templateObject8","fontSizes","fontWeights","semibold","UnitType","span","_templateObject9","textMuted","StatusContainer","_templateObject0","StatusBadge","_templateObject1","full","getStatusColor","status","UnitMetrics","_templateObject10","MetricItem","_templateObject11","MetricLabel","_templateObject12","textSecondary","MetricValue","_templateObject13","LoadingMessage","_templateObject14","success","warning","danger","getUnitStatus","sensorData","reservoir","ph","tds","water_level","Dashboard","_roomData$front$bme","_roomData$front$bme2","_roomData$back$bme","_roomData$back$ac","hydroUnitsData","setHydroUnitsData","roomData","setRoomData","front","back","cameraStats","setCameraStats","total","online","loading","setLoading","connected","hydroUnits","id","name","type","icon","fetchData","hydroPromises","map","unit","response","get","concat","unitId","data","hydroResults","Promise","all","hydroData","forEach","_ref","frontResponse","backResponse","totalCameras","onlineCameras","cameraResponse","cameras","length","now","Math","floor","Date","camera","last_image_timestamp","error","console","warn","interval","setInterval","clearInterval","children","className","title","value","Object","keys","values","reduce","sum","_unit$reservoir","_data$reservoir","_data$reservoir$ph","_data$reservoir2","_data$reservoir3","_data$reservoir3$wate","_data$reservoir4","to","timestamp","compact","toFixed","water_temp","bme","temp","ranges","min","max","critical","humidity","co2","ac","current_set_temp"],"sources":["D:/neuralkissan/dashboard/dashboard/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport SensorCard from '../components/SensorCard';\nimport IoTStatusIndicator from '../components/IoTStatusIndicator';\nimport { useSocket } from '../contexts/SocketContext';\nimport axios from 'axios';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xl};\n`;\n\nconst Section = styled.section`\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.xl};\n  box-shadow: ${props => props.theme.shadows.sm};\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: ${props => props.theme.spacing.lg};\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst UnitsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: ${props => props.theme.spacing.lg};\n`;\n\nconst UnitCard = styled(Link)`\n  display: block;\n  background: ${props => props.theme.colors.background};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.lg};\n  text-decoration: none;\n  color: inherit;\n  transition: ${props => props.theme.transitions.default};\n  border: 1px solid ${props => props.theme.colors.border};\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${props => props.theme.shadows.md};\n    border-color: ${props => props.theme.colors.primary};\n  }\n`;\n\nconst UnitHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: ${props => props.theme.spacing.md};\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst UnitTitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xs};\n`;\n\nconst UnitTitle = styled.h3`\n  font-size: ${props => props.theme.fontSizes.lg};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  color: ${props => props.theme.colors.text};\n  margin: 0;\n`;\n\nconst UnitType = styled.span`\n  font-size: ${props => props.theme.fontSizes.xs};\n  color: ${props => props.theme.colors.textMuted};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst StatusContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: ${props => props.theme.spacing.xs};\n`;\n\nconst StatusBadge = styled.span`\n  padding: ${props => props.theme.spacing.xs} ${props => props.theme.spacing.sm};\n  border-radius: ${props => props.theme.borderRadius.full};\n  font-size: ${props => props.theme.fontSizes.xs};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  background: ${props => getStatusColor(props.status, props.theme)};\n  color: white;\n`;\n\nconst UnitMetrics = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst MetricItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ${props => props.theme.spacing.sm};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.md};\n`;\n\nconst MetricLabel = styled.span`\n  font-size: 0.75rem;\n  color: ${props => props.theme.colors.textSecondary};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst MetricValue = styled.span`\n  font-size: 1rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: ${props => props.theme.spacing.xl};\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nfunction getStatusColor(status, theme) {\n  switch (status) {\n    case 'normal':\n      return theme.colors.success;\n    case 'warning':\n      return theme.colors.warning;\n    case 'critical':\n      return theme.colors.danger;\n    default:\n      return theme.colors.textMuted;\n  }\n}\n\nfunction getUnitStatus(sensorData) {\n  if (!sensorData) return 'unknown';\n\n  const { reservoir } = sensorData;\n  if (!reservoir) return 'unknown';\n\n  // Check critical ranges\n  if (reservoir.ph < 5.5 || reservoir.ph > 7.5) return 'critical';\n  if (reservoir.tds < 500 || reservoir.tds > 1500) return 'critical';\n  if (reservoir.water_level < 20) return 'critical';\n\n  // Check warning ranges\n  if (reservoir.ph < 6.0 || reservoir.ph > 7.0) return 'warning';\n  if (reservoir.tds < 700 || reservoir.tds > 1300) return 'warning';\n  if (reservoir.water_level < 50) return 'warning';\n\n  return 'normal';\n}\n\nconst Dashboard = () => {\n  const [hydroUnitsData, setHydroUnitsData] = useState({});\n  const [roomData, setRoomData] = useState({ front: null, back: null });\n  const [cameraStats, setCameraStats] = useState({ total: 0, online: 0 });\n  const [loading, setLoading] = useState(true);\n  const { connected } = useSocket();\n\n  const hydroUnits = [\n    { id: 'DWC1', name: 'Deep Water Culture 1', type: 'Deep Water Culture', icon: 'üíß' },\n    { id: 'DWC2', name: 'Deep Water Culture 2', type: 'Deep Water Culture', icon: 'üíß' },\n    { id: 'NFT', name: 'Nutrient Film Technique', type: 'NFT System', icon: 'üåä' },\n    { id: 'AERO', name: 'Aeroponic System', type: 'Aeroponic', icon: 'üí®' },\n    { id: 'TROUGH', name: 'Trough Based System', type: 'Trough System', icon: 'üîÑ' }\n  ];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch hydro units data\n        const hydroPromises = hydroUnits.map(async (unit) => {\n          const response = await axios.get(`/units/${unit.id}/sensors`);\n          return { unitId: unit.id, data: response.data };\n        });\n\n        const hydroResults = await Promise.all(hydroPromises);\n        const hydroData = {};\n        hydroResults.forEach(({ unitId, data }) => {\n          hydroData[unitId] = data;\n        });\n        setHydroUnitsData(hydroData);\n\n        // Fetch room data\n        const [frontResponse, backResponse] = await Promise.all([\n          axios.get('/room/front/sensors'),\n          axios.get('/room/back/sensors')\n        ]);\n\n        setRoomData({\n          front: frontResponse.data,\n          back: backResponse.data\n        });\n\n        // Fetch camera statistics\n        let totalCameras = 0;\n        let onlineCameras = 0;\n\n        for (const unit of hydroUnits) {\n          try {\n            const cameraResponse = await axios.get(`/cameras/${unit.id}`);\n            const cameras = cameraResponse.data.cameras || [];\n            totalCameras += cameras.length;\n\n            // Count online cameras (images received within 5 minutes)\n            const now = Math.floor(Date.now() / 1000);\n            cameras.forEach(camera => {\n              if (camera.last_image_timestamp && (now - camera.last_image_timestamp) <= 300) {\n                onlineCameras++;\n              }\n            });\n          } catch (error) {\n            console.warn(`Error fetching cameras for ${unit.id}:`, error);\n          }\n        }\n\n        setCameraStats({ total: totalCameras, online: onlineCameras });\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n    const interval = setInterval(fetchData, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  if (loading) {\n    return <LoadingMessage>Loading dashboard data...</LoadingMessage>;\n  }\n\n  return (\n    <Container>\n      {/* System Overview */}\n      <Section>\n        <SectionTitle>üåø System Overview</SectionTitle>\n        <div className=\"card-grid\">\n          <SensorCard\n            title=\"Total Systems\"\n            value={hydroUnits.length}\n            unit=\"systems\"\n            status=\"normal\"\n            icon=\"üå±\"\n          />\n          <SensorCard\n            title=\"Systems Online\"\n            value={Object.keys(hydroUnitsData).length}\n            unit=\"active\"\n            status={Object.keys(hydroUnitsData).length === hydroUnits.length ? 'normal' : 'warning'}\n            icon=\"‚úÖ\"\n          />\n          <SensorCard\n            title=\"Average pH\"\n            value={\n              Object.values(hydroUnitsData).length > 0\n                ? Object.values(hydroUnitsData)\n                    .reduce((sum, unit) => sum + (unit.reservoir?.ph || 0), 0) /\n                  Object.values(hydroUnitsData).length\n                : 0\n            }\n            unit=\"\"\n            status=\"normal\"\n            icon=\"‚öóÔ∏è\"\n          />\n          <SensorCard\n            title=\"Cameras Online\"\n            value={`${cameraStats.online}/${cameraStats.total}`}\n            unit=\"cameras\"\n            status={cameraStats.online === cameraStats.total ? 'normal' :\n                   cameraStats.online > 0 ? 'warning' : 'critical'}\n            icon=\"üì∑\"\n          />\n          <SensorCard\n            title=\"WebSocket\"\n            value={connected ? 'Connected' : 'Disconnected'}\n            status={connected ? 'normal' : 'critical'}\n            icon=\"üì°\"\n          />\n        </div>\n      </Section>\n\n      {/* Hydro Units */}\n      <Section>\n        <SectionTitle>üå± Hydroponic Systems</SectionTitle>\n        <UnitsGrid>\n          {hydroUnits.map((unit) => {\n            const data = hydroUnitsData[unit.id];\n            const status = getUnitStatus(data);\n\n            return (\n              <UnitCard key={unit.id} to={`/hydro-units/${unit.id}`}>\n                <UnitHeader>\n                  <UnitTitleContainer>\n                    <UnitTitle>{unit.icon} {unit.id}</UnitTitle>\n                    <UnitType>{unit.type}</UnitType>\n                  </UnitTitleContainer>\n                  <StatusContainer>\n                    <IoTStatusIndicator\n                      unitId={unit.id}\n                      timestamp={data?.timestamp}\n                      compact={false}\n                    />\n                    <StatusBadge status={status}>{status}</StatusBadge>\n                  </StatusContainer>\n                </UnitHeader>\n\n                {data ? (\n                  <UnitMetrics>\n                    <MetricItem>\n                      <MetricLabel>pH</MetricLabel>\n                      <MetricValue>{data.reservoir?.ph?.toFixed(1) || 'N/A'}</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>TDS</MetricLabel>\n                      <MetricValue>{data.reservoir?.tds || 'N/A'}</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>Water Temp</MetricLabel>\n                      <MetricValue>{data.reservoir?.water_temp?.toFixed(1) || 'N/A'}¬∞C</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>Water Level</MetricLabel>\n                      <MetricValue>{data.reservoir?.water_level || 'N/A'}%</MetricValue>\n                    </MetricItem>\n                  </UnitMetrics>\n                ) : (\n                  <LoadingMessage>No data available</LoadingMessage>\n                )}\n              </UnitCard>\n            );\n          })}\n        </UnitsGrid>\n      </Section>\n\n      {/* Room Monitoring */}\n      <Section>\n        <SectionTitle>üè† Room Monitoring</SectionTitle>\n        <div className=\"card-grid\">\n          {/* Front Room */}\n          {roomData.front && (\n            <>\n              <SensorCard\n                title=\"Front Room Temp\"\n                value={roomData.front.bme?.temp}\n                unit=\"¬∞C\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 18, max: 30 },\n                  critical: { min: 15, max: 35 }\n                }}\n                icon=\"üå°Ô∏è\"\n              />\n              <SensorCard\n                title=\"Front Room Humidity\"\n                value={roomData.front.bme?.humidity}\n                unit=\"%\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 40, max: 80 },\n                  critical: { min: 30, max: 90 }\n                }}\n                icon=\"üíß\"\n              />\n              <SensorCard\n                title=\"Front Room CO2\"\n                value={roomData.front.co2}\n                unit=\"ppm\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 300, max: 1200 },\n                  critical: { min: 250, max: 1500 }\n                }}\n                icon=\"üå¨Ô∏è\"\n              />\n            </>\n          )}\n\n          {/* Back Room */}\n          {roomData.back && (\n            <>\n              <SensorCard\n                title=\"Back Room Temp\"\n                value={roomData.back.bme?.temp}\n                unit=\"¬∞C\"\n                timestamp={roomData.back.timestamp}\n                ranges={{\n                  warning: { min: 18, max: 30 },\n                  critical: { min: 15, max: 35 }\n                }}\n                icon=\"üå°Ô∏è\"\n              />\n              <SensorCard\n                title=\"Back Room AC\"\n                value={roomData.back.ac?.current_set_temp}\n                unit=\"¬∞C\"\n                status=\"normal\"\n                timestamp={roomData.back.timestamp}\n                icon=\"‚ùÑÔ∏è\"\n              />\n            </>\n          )}\n        </div>\n      </Section>\n    </Container>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}