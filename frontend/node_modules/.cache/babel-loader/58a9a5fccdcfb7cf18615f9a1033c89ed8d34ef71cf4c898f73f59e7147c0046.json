{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/neuralkissan/dashboard/dashboard/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState}from'react';import styled from'styled-components';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  padding: \",\";\\n  background: \",\";\\n  border-radius: \",\";\\n  box-shadow: \",\";\\n  margin-bottom: \",\";\\n  position: relative;\\n  border: 2px solid \",\";\\n\"])),props=>props.theme.spacing.lg,props=>props.theme.colors.surface,props=>props.theme.borderRadius.lg,props=>props.theme.shadows.sm,props=>props.theme.spacing.md,props=>{if(props.controlMode==='manual')return props.theme.colors.warning;if(props.controlMode==='timer')return props.theme.colors.primary;return'transparent';});const LabelContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.xs);const Label=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: \",\";\\n  display: flex;\\n  align-items: center;\\n  gap: \",\";\\n\"])),props=>props.theme.colors.text,props=>props.theme.spacing.sm);const ControlModeIndicator=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-size: \",\";\\n  font-weight: 500;\\n  color: \",\";\\n  display: flex;\\n  align-items: center;\\n  gap: \",\";\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n\"])),props=>props.theme.fontSizes.xs,props=>{if(props.mode==='manual')return props.theme.colors.warning;if(props.mode==='timer')return props.theme.colors.primary;return props.theme.colors.textMuted;},props=>props.theme.spacing.xs);const ModeIcon=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: \",\";\\n\"])),props=>props.theme.fontSizes.xs);const ToggleContainer=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: \",\";\\n\"])),props=>props.theme.spacing.md);const StateText=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  font-size: 0.875rem;\\n  font-weight: 600;\\n  color: \",\";\\n  text-transform: uppercase;\\n  min-width: 30px;\\n\"])),props=>props.state==='ON'?props.theme.colors.success:props.theme.colors.textMuted);const ToggleSwitch=styled.button(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 60px;\\n  height: 30px;\\n  background: \",\";\\n  border-radius: \",\";\\n  transition: \",\";\\n  border: none;\\n  cursor: pointer;\\n  outline: none;\\n\\n  &:hover {\\n    background: \",\";\\n  }\\n\\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  &::after {\\n    content: '';\\n    position: absolute;\\n    top: 2px;\\n    left: \",\";\\n    width: 26px;\\n    height: 26px;\\n    background: white;\\n    border-radius: 50%;\\n    transition: \",\";\\n    box-shadow: \",\";\\n  }\\n\"])),props=>props.isOn?props.theme.colors.success:props.theme.colors.border,props=>props.theme.borderRadius.full,props=>props.theme.transitions.default,props=>props.isOn?props.theme.colors.successHover:props.theme.colors.borderHover,props=>props.isOn?'32px':'2px',props=>props.theme.transitions.default,props=>props.theme.shadows.sm);const LoadingSpinner=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 16px;\\n  height: 16px;\\n  border: 2px solid \",\";\\n  border-top: 2px solid \",\";\\n  border-radius: 50%;\\n  animation: spin 1s linear infinite;\\n\\n  @keyframes spin {\\n    0% { transform: rotate(0deg); }\\n    100% { transform: rotate(360deg); }\\n  }\\n\"])),props=>props.theme.colors.border,props=>props.theme.colors.primary);const ToggleRelay=_ref=>{let{label,state,onChange,icon,disabled=false,controlMode='manual',// 'manual' or 'timer'\nscheduleInfo=null}=_ref;const[loading,setLoading]=useState(false);const isOn=state==='ON';const handleToggle=async()=>{if(disabled||loading)return;setLoading(true);try{const newState=isOn?'OFF':'ON';await onChange(newState);}catch(error){console.error('Error toggling relay:',error);}finally{setLoading(false);}};const getModeDisplay=()=>{if(controlMode==='timer'){return{icon:'‚è∞',text:'Timer Control',detail:scheduleInfo?\"\".concat(scheduleInfo.on,\" - \").concat(scheduleInfo.off):'Scheduled'};}return{icon:'üéõÔ∏è',text:'Manual Control',detail:'Override Active'};};const modeDisplay=getModeDisplay();return/*#__PURE__*/_jsxs(Container,{controlMode:controlMode,children:[/*#__PURE__*/_jsxs(LabelContainer,{children:[/*#__PURE__*/_jsxs(Label,{children:[icon,\" \",label]}),/*#__PURE__*/_jsxs(ControlModeIndicator,{mode:controlMode,children:[/*#__PURE__*/_jsx(ModeIcon,{children:modeDisplay.icon}),modeDisplay.text,modeDisplay.detail&&\" \\u2022 \".concat(modeDisplay.detail)]})]}),/*#__PURE__*/_jsxs(ToggleContainer,{children:[/*#__PURE__*/_jsx(StateText,{state:state,children:state}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{}):/*#__PURE__*/_jsx(ToggleSwitch,{isOn:isOn,onClick:handleToggle,disabled:disabled,title:\"Turn \".concat(isOn?'OFF':'ON',\" \").concat(label,\" (switches to manual mode)\")})]})]});};export default ToggleRelay;","map":{"version":3,"names":["React","useState","styled","jsxs","_jsxs","jsx","_jsx","Container","div","_templateObject","_taggedTemplateLiteral","props","theme","spacing","lg","colors","surface","borderRadius","shadows","sm","md","controlMode","warning","primary","LabelContainer","_templateObject2","xs","Label","_templateObject3","text","ControlModeIndicator","_templateObject4","fontSizes","mode","textMuted","ModeIcon","span","_templateObject5","ToggleContainer","_templateObject6","StateText","_templateObject7","state","success","ToggleSwitch","button","_templateObject8","isOn","border","full","transitions","default","successHover","borderHover","LoadingSpinner","_templateObject9","ToggleRelay","_ref","label","onChange","icon","disabled","scheduleInfo","loading","setLoading","handleToggle","newState","error","console","getModeDisplay","detail","concat","on","off","modeDisplay","children","onClick","title"],"sources":["D:/neuralkissan/dashboard/dashboard/frontend/src/components/ToggleRelay.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: ${props => props.theme.spacing.lg};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  box-shadow: ${props => props.theme.shadows.sm};\n  margin-bottom: ${props => props.theme.spacing.md};\n  position: relative;\n  border: 2px solid ${props => {\n    if (props.controlMode === 'manual') return props.theme.colors.warning;\n    if (props.controlMode === 'timer') return props.theme.colors.primary;\n    return 'transparent';\n  }};\n`;\n\nconst LabelContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xs};\n`;\n\nconst Label = styled.div`\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst ControlModeIndicator = styled.div`\n  font-size: ${props => props.theme.fontSizes.xs};\n  font-weight: 500;\n  color: ${props => {\n    if (props.mode === 'manual') return props.theme.colors.warning;\n    if (props.mode === 'timer') return props.theme.colors.primary;\n    return props.theme.colors.textMuted;\n  }};\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.xs};\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n`;\n\nconst ModeIcon = styled.span`\n  font-size: ${props => props.theme.fontSizes.xs};\n`;\n\nconst ToggleContainer = styled.div`\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.md};\n`;\n\nconst StateText = styled.span`\n  font-size: 0.875rem;\n  font-weight: 600;\n  color: ${props => props.state === 'ON'\n    ? props.theme.colors.success\n    : props.theme.colors.textMuted};\n  text-transform: uppercase;\n  min-width: 30px;\n`;\n\nconst ToggleSwitch = styled.button`\n  position: relative;\n  width: 60px;\n  height: 30px;\n  background: ${props => props.isOn\n    ? props.theme.colors.success\n    : props.theme.colors.border};\n  border-radius: ${props => props.theme.borderRadius.full};\n  transition: ${props => props.theme.transitions.default};\n  border: none;\n  cursor: pointer;\n  outline: none;\n\n  &:hover {\n    background: ${props => props.isOn\n      ? props.theme.colors.successHover\n      : props.theme.colors.borderHover};\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: ${props => props.isOn ? '32px' : '2px'};\n    width: 26px;\n    height: 26px;\n    background: white;\n    border-radius: 50%;\n    transition: ${props => props.theme.transitions.default};\n    box-shadow: ${props => props.theme.shadows.sm};\n  }\n`;\n\nconst LoadingSpinner = styled.div`\n  width: 16px;\n  height: 16px;\n  border: 2px solid ${props => props.theme.colors.border};\n  border-top: 2px solid ${props => props.theme.colors.primary};\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst ToggleRelay = ({\n  label,\n  state,\n  onChange,\n  icon,\n  disabled = false,\n  controlMode = 'manual', // 'manual' or 'timer'\n  scheduleInfo = null\n}) => {\n  const [loading, setLoading] = useState(false);\n  const isOn = state === 'ON';\n\n  const handleToggle = async () => {\n    if (disabled || loading) return;\n\n    setLoading(true);\n    try {\n      const newState = isOn ? 'OFF' : 'ON';\n      await onChange(newState);\n    } catch (error) {\n      console.error('Error toggling relay:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getModeDisplay = () => {\n    if (controlMode === 'timer') {\n      return {\n        icon: '‚è∞',\n        text: 'Timer Control',\n        detail: scheduleInfo ? `${scheduleInfo.on} - ${scheduleInfo.off}` : 'Scheduled'\n      };\n    }\n    return {\n      icon: 'üéõÔ∏è',\n      text: 'Manual Control',\n      detail: 'Override Active'\n    };\n  };\n\n  const modeDisplay = getModeDisplay();\n\n  return (\n    <Container controlMode={controlMode}>\n      <LabelContainer>\n        <Label>\n          {icon} {label}\n        </Label>\n        <ControlModeIndicator mode={controlMode}>\n          <ModeIcon>{modeDisplay.icon}</ModeIcon>\n          {modeDisplay.text}\n          {modeDisplay.detail && ` ‚Ä¢ ${modeDisplay.detail}`}\n        </ControlModeIndicator>\n      </LabelContainer>\n      <ToggleContainer>\n        <StateText state={state}>{state}</StateText>\n        {loading ? (\n          <LoadingSpinner />\n        ) : (\n          <ToggleSwitch\n            isOn={isOn}\n            onClick={handleToggle}\n            disabled={disabled}\n            title={`Turn ${isOn ? 'OFF' : 'ON'} ${label} (switches to manual mode)`}\n          />\n        )}\n      </ToggleContainer>\n    </Container>\n  );\n};\n\nexport default ToggleRelay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}