{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saira\\\\OneDrive\\\\Desktop\\\\dashboard\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport SensorCard from '../components/SensorCard';\nimport IoTStatusIndicator from '../components/IoTStatusIndicator';\nimport { useSocket } from '../contexts/SocketContext';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xl};\n`;\n_c = Container;\nconst Section = styled.section`\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.xl};\n  box-shadow: ${props => props.theme.shadows.sm};\n`;\n_c2 = Section;\nconst SectionTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: ${props => props.theme.spacing.lg};\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.sm};\n`;\n_c3 = SectionTitle;\nconst UnitsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: ${props => props.theme.spacing.lg};\n`;\n_c4 = UnitsGrid;\nconst UnitCard = styled(Link)`\n  display: block;\n  background: ${props => props.theme.colors.background};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.lg};\n  text-decoration: none;\n  color: inherit;\n  transition: ${props => props.theme.transitions.default};\n  border: 1px solid ${props => props.theme.colors.border};\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${props => props.theme.shadows.md};\n    border-color: ${props => props.theme.colors.primary};\n  }\n`;\n_c5 = UnitCard;\nconst UnitHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: ${props => props.theme.spacing.md};\n  gap: ${props => props.theme.spacing.sm};\n`;\n_c6 = UnitHeader;\nconst UnitTitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xs};\n`;\nconst UnitTitle = styled.h3`\n  font-size: ${props => props.theme.fontSizes.lg};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  color: ${props => props.theme.colors.text};\n  margin: 0;\n`;\n_c7 = UnitTitle;\nconst UnitType = styled.span`\n  font-size: ${props => props.theme.fontSizes.xs};\n  color: ${props => props.theme.colors.textMuted};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\nconst StatusContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: ${props => props.theme.spacing.xs};\n`;\nconst StatusBadge = styled.span`\n  padding: ${props => props.theme.spacing.xs} ${props => props.theme.spacing.sm};\n  border-radius: ${props => props.theme.borderRadius.full};\n  font-size: ${props => props.theme.fontSizes.xs};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  background: ${props => getStatusColor(props.status, props.theme)};\n  color: white;\n`;\n_c8 = StatusBadge;\nconst UnitMetrics = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: ${props => props.theme.spacing.sm};\n`;\n_c9 = UnitMetrics;\nconst MetricItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ${props => props.theme.spacing.sm};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.md};\n`;\n_c0 = MetricItem;\nconst MetricLabel = styled.span`\n  font-size: 0.75rem;\n  color: ${props => props.theme.colors.textSecondary};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n_c1 = MetricLabel;\nconst MetricValue = styled.span`\n  font-size: 1rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n_c10 = MetricValue;\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: ${props => props.theme.spacing.xl};\n  color: ${props => props.theme.colors.textSecondary};\n`;\n_c11 = LoadingMessage;\nfunction getStatusColor(status, theme) {\n  switch (status) {\n    case 'normal':\n      return theme.colors.success;\n    case 'warning':\n      return theme.colors.warning;\n    case 'critical':\n      return theme.colors.danger;\n    default:\n      return theme.colors.textMuted;\n  }\n}\nfunction getUnitStatus(sensorData) {\n  if (!sensorData) return 'unknown';\n  const {\n    reservoir\n  } = sensorData;\n  if (!reservoir) return 'unknown';\n\n  // Check critical ranges\n  if (reservoir.ph < 5.5 || reservoir.ph > 7.5) return 'critical';\n  if (reservoir.tds < 500 || reservoir.tds > 1500) return 'critical';\n  if (reservoir.water_level < 20) return 'critical';\n\n  // Check warning ranges\n  if (reservoir.ph < 6.0 || reservoir.ph > 7.0) return 'warning';\n  if (reservoir.tds < 700 || reservoir.tds > 1300) return 'warning';\n  if (reservoir.water_level < 50) return 'warning';\n  return 'normal';\n}\nconst Dashboard = () => {\n  _s();\n  var _roomData$front$bme, _roomData$front$bme2, _roomData$back$bme, _roomData$back$ac;\n  const [hydroUnitsData, setHydroUnitsData] = useState({});\n  const [roomData, setRoomData] = useState({\n    front: null,\n    back: null\n  });\n  const [loading, setLoading] = useState(true);\n  const {\n    connected\n  } = useSocket();\n  const hydroUnits = [{\n    id: 'DWC1',\n    name: 'Deep Water Culture 1',\n    type: 'Deep Water Culture',\n    icon: 'üíß'\n  }, {\n    id: 'DWC2',\n    name: 'Deep Water Culture 2',\n    type: 'Deep Water Culture',\n    icon: 'üíß'\n  }, {\n    id: 'NFT',\n    name: 'Nutrient Film Technique',\n    type: 'NFT System',\n    icon: 'üåä'\n  }, {\n    id: 'AERO',\n    name: 'Aeroponic System',\n    type: 'Aeroponic',\n    icon: 'üí®'\n  }, {\n    id: 'TROUGH',\n    name: 'Trough Based System',\n    type: 'Trough System',\n    icon: 'üîÑ'\n  }];\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch hydro units data\n        const hydroPromises = hydroUnits.map(async unitId => {\n          const response = await axios.get(`/units/${unitId}/sensors`);\n          return {\n            unitId,\n            data: response.data\n          };\n        });\n        const hydroResults = await Promise.all(hydroPromises);\n        const hydroData = {};\n        hydroResults.forEach(({\n          unitId,\n          data\n        }) => {\n          hydroData[unitId] = data;\n        });\n        setHydroUnitsData(hydroData);\n\n        // Fetch room data\n        const [frontResponse, backResponse] = await Promise.all([axios.get('/room/front/sensors'), axios.get('/room/back/sensors')]);\n        setRoomData({\n          front: frontResponse.data,\n          back: backResponse.data\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n    const interval = setInterval(fetchData, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingMessage, {\n      children: \"Loading dashboard data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: \"\\uD83C\\uDF3F System Overview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-grid\",\n        children: [/*#__PURE__*/_jsxDEV(SensorCard, {\n          title: \"Total Units\",\n          value: hydroUnits.length,\n          unit: \"units\",\n          status: \"normal\",\n          icon: \"\\uD83C\\uDF31\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n          title: \"Active Units\",\n          value: Object.keys(hydroUnitsData).length,\n          unit: \"online\",\n          status: Object.keys(hydroUnitsData).length === hydroUnits.length ? 'normal' : 'warning',\n          icon: \"\\u2705\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n          title: \"Average pH\",\n          value: Object.values(hydroUnitsData).length > 0 ? Object.values(hydroUnitsData).reduce((sum, unit) => {\n            var _unit$reservoir;\n            return sum + (((_unit$reservoir = unit.reservoir) === null || _unit$reservoir === void 0 ? void 0 : _unit$reservoir.ph) || 0);\n          }, 0) / Object.values(hydroUnitsData).length : 0,\n          unit: \"\",\n          status: \"normal\",\n          icon: \"\\u2697\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n          title: \"Connection\",\n          value: connected ? 'Online' : 'Offline',\n          status: connected ? 'normal' : 'critical',\n          icon: \"\\uD83D\\uDCE1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: \"\\uD83C\\uDF31 Hydro Units\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(UnitsGrid, {\n        children: hydroUnits.map(unitId => {\n          var _data$reservoir, _data$reservoir$ph, _data$reservoir2, _data$reservoir3, _data$reservoir3$wate, _data$reservoir4;\n          const data = hydroUnitsData[unitId];\n          const status = getUnitStatus(data);\n          return /*#__PURE__*/_jsxDEV(UnitCard, {\n            to: `/hydro-units/${unitId}`,\n            children: [/*#__PURE__*/_jsxDEV(UnitHeader, {\n              children: [/*#__PURE__*/_jsxDEV(UnitTitle, {\n                children: unitId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(StatusBadge, {\n                status: status,\n                children: status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), data ? /*#__PURE__*/_jsxDEV(UnitMetrics, {\n              children: [/*#__PURE__*/_jsxDEV(MetricItem, {\n                children: [/*#__PURE__*/_jsxDEV(MetricLabel, {\n                  children: \"pH\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MetricValue, {\n                  children: ((_data$reservoir = data.reservoir) === null || _data$reservoir === void 0 ? void 0 : (_data$reservoir$ph = _data$reservoir.ph) === null || _data$reservoir$ph === void 0 ? void 0 : _data$reservoir$ph.toFixed(1)) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MetricItem, {\n                children: [/*#__PURE__*/_jsxDEV(MetricLabel, {\n                  children: \"TDS\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MetricValue, {\n                  children: ((_data$reservoir2 = data.reservoir) === null || _data$reservoir2 === void 0 ? void 0 : _data$reservoir2.tds) || 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MetricItem, {\n                children: [/*#__PURE__*/_jsxDEV(MetricLabel, {\n                  children: \"Water Temp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MetricValue, {\n                  children: [((_data$reservoir3 = data.reservoir) === null || _data$reservoir3 === void 0 ? void 0 : (_data$reservoir3$wate = _data$reservoir3.water_temp) === null || _data$reservoir3$wate === void 0 ? void 0 : _data$reservoir3$wate.toFixed(1)) || 'N/A', \"\\xB0C\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(MetricItem, {\n                children: [/*#__PURE__*/_jsxDEV(MetricLabel, {\n                  children: \"Water Level\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(MetricValue, {\n                  children: [((_data$reservoir4 = data.reservoir) === null || _data$reservoir4 === void 0 ? void 0 : _data$reservoir4.water_level) || 'N/A', \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(LoadingMessage, {\n              children: \"Loading...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }, this)]\n          }, unitId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Section, {\n      children: [/*#__PURE__*/_jsxDEV(SectionTitle, {\n        children: \"\\uD83C\\uDFE0 Room Monitoring\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-grid\",\n        children: [roomData.front && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(SensorCard, {\n            title: \"Front Room Temp\",\n            value: (_roomData$front$bme = roomData.front.bme) === null || _roomData$front$bme === void 0 ? void 0 : _roomData$front$bme.temp,\n            unit: \"\\xB0C\",\n            timestamp: roomData.front.timestamp,\n            ranges: {\n              warning: {\n                min: 18,\n                max: 30\n              },\n              critical: {\n                min: 15,\n                max: 35\n              }\n            },\n            icon: \"\\uD83C\\uDF21\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n            title: \"Front Room Humidity\",\n            value: (_roomData$front$bme2 = roomData.front.bme) === null || _roomData$front$bme2 === void 0 ? void 0 : _roomData$front$bme2.humidity,\n            unit: \"%\",\n            timestamp: roomData.front.timestamp,\n            ranges: {\n              warning: {\n                min: 40,\n                max: 80\n              },\n              critical: {\n                min: 30,\n                max: 90\n              }\n            },\n            icon: \"\\uD83D\\uDCA7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n            title: \"Front Room CO2\",\n            value: roomData.front.co2,\n            unit: \"ppm\",\n            timestamp: roomData.front.timestamp,\n            ranges: {\n              warning: {\n                min: 300,\n                max: 1200\n              },\n              critical: {\n                min: 250,\n                max: 1500\n              }\n            },\n            icon: \"\\uD83C\\uDF2C\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), roomData.back && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(SensorCard, {\n            title: \"Back Room Temp\",\n            value: (_roomData$back$bme = roomData.back.bme) === null || _roomData$back$bme === void 0 ? void 0 : _roomData$back$bme.temp,\n            unit: \"\\xB0C\",\n            timestamp: roomData.back.timestamp,\n            ranges: {\n              warning: {\n                min: 18,\n                max: 30\n              },\n              critical: {\n                min: 15,\n                max: 35\n              }\n            },\n            icon: \"\\uD83C\\uDF21\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(SensorCard, {\n            title: \"Back Room AC\",\n            value: (_roomData$back$ac = roomData.back.ac) === null || _roomData$back$ac === void 0 ? void 0 : _roomData$back$ac.current_set_temp,\n            unit: \"\\xB0C\",\n            status: \"normal\",\n            timestamp: roomData.back.timestamp,\n            icon: \"\\u2744\\uFE0F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"I2iL+z6lOcXHVrzkHJv8KCMstIA=\", false, function () {\n  return [useSocket];\n});\n_c12 = Dashboard;\nexport default Dashboard;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"Container\");\n$RefreshReg$(_c2, \"Section\");\n$RefreshReg$(_c3, \"SectionTitle\");\n$RefreshReg$(_c4, \"UnitsGrid\");\n$RefreshReg$(_c5, \"UnitCard\");\n$RefreshReg$(_c6, \"UnitHeader\");\n$RefreshReg$(_c7, \"UnitTitle\");\n$RefreshReg$(_c8, \"StatusBadge\");\n$RefreshReg$(_c9, \"UnitMetrics\");\n$RefreshReg$(_c0, \"MetricItem\");\n$RefreshReg$(_c1, \"MetricLabel\");\n$RefreshReg$(_c10, \"MetricValue\");\n$RefreshReg$(_c11, \"LoadingMessage\");\n$RefreshReg$(_c12, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Link","styled","SensorCard","IoTStatusIndicator","useSocket","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Container","div","props","theme","spacing","xl","_c","Section","section","colors","surface","borderRadius","lg","shadows","sm","_c2","SectionTitle","h2","text","_c3","UnitsGrid","_c4","UnitCard","background","transitions","default","border","md","primary","_c5","UnitHeader","_c6","UnitTitleContainer","xs","UnitTitle","h3","fontSizes","fontWeights","semibold","_c7","UnitType","span","textMuted","StatusContainer","StatusBadge","full","getStatusColor","status","_c8","UnitMetrics","_c9","MetricItem","_c0","MetricLabel","textSecondary","_c1","MetricValue","_c10","LoadingMessage","_c11","success","warning","danger","getUnitStatus","sensorData","reservoir","ph","tds","water_level","Dashboard","_s","_roomData$front$bme","_roomData$front$bme2","_roomData$back$bme","_roomData$back$ac","hydroUnitsData","setHydroUnitsData","roomData","setRoomData","front","back","loading","setLoading","connected","hydroUnits","id","name","type","icon","fetchData","hydroPromises","map","unitId","response","get","data","hydroResults","Promise","all","hydroData","forEach","frontResponse","backResponse","error","console","interval","setInterval","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","className","title","value","length","unit","Object","keys","values","reduce","sum","_unit$reservoir","_data$reservoir","_data$reservoir$ph","_data$reservoir2","_data$reservoir3","_data$reservoir3$wate","_data$reservoir4","to","toFixed","water_temp","bme","temp","timestamp","ranges","min","max","critical","humidity","co2","ac","current_set_temp","_c12","$RefreshReg$"],"sources":["C:/Users/saira/OneDrive/Desktop/dashboard/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport SensorCard from '../components/SensorCard';\nimport IoTStatusIndicator from '../components/IoTStatusIndicator';\nimport { useSocket } from '../contexts/SocketContext';\nimport axios from 'axios';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xl};\n`;\n\nconst Section = styled.section`\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.xl};\n  box-shadow: ${props => props.theme.shadows.sm};\n`;\n\nconst SectionTitle = styled.h2`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${props => props.theme.colors.text};\n  margin-bottom: ${props => props.theme.spacing.lg};\n  display: flex;\n  align-items: center;\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst UnitsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: ${props => props.theme.spacing.lg};\n`;\n\nconst UnitCard = styled(Link)`\n  display: block;\n  background: ${props => props.theme.colors.background};\n  border-radius: ${props => props.theme.borderRadius.lg};\n  padding: ${props => props.theme.spacing.lg};\n  text-decoration: none;\n  color: inherit;\n  transition: ${props => props.theme.transitions.default};\n  border: 1px solid ${props => props.theme.colors.border};\n\n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: ${props => props.theme.shadows.md};\n    border-color: ${props => props.theme.colors.primary};\n  }\n`;\n\nconst UnitHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-bottom: ${props => props.theme.spacing.md};\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst UnitTitleContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: ${props => props.theme.spacing.xs};\n`;\n\nconst UnitTitle = styled.h3`\n  font-size: ${props => props.theme.fontSizes.lg};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  color: ${props => props.theme.colors.text};\n  margin: 0;\n`;\n\nconst UnitType = styled.span`\n  font-size: ${props => props.theme.fontSizes.xs};\n  color: ${props => props.theme.colors.textMuted};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst StatusContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: ${props => props.theme.spacing.xs};\n`;\n\nconst StatusBadge = styled.span`\n  padding: ${props => props.theme.spacing.xs} ${props => props.theme.spacing.sm};\n  border-radius: ${props => props.theme.borderRadius.full};\n  font-size: ${props => props.theme.fontSizes.xs};\n  font-weight: ${props => props.theme.fontWeights.semibold};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  background: ${props => getStatusColor(props.status, props.theme)};\n  color: white;\n`;\n\nconst UnitMetrics = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: ${props => props.theme.spacing.sm};\n`;\n\nconst MetricItem = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: ${props => props.theme.spacing.sm};\n  background: ${props => props.theme.colors.surface};\n  border-radius: ${props => props.theme.borderRadius.md};\n`;\n\nconst MetricLabel = styled.span`\n  font-size: 0.75rem;\n  color: ${props => props.theme.colors.textSecondary};\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n`;\n\nconst MetricValue = styled.span`\n  font-size: 1rem;\n  font-weight: 600;\n  color: ${props => props.theme.colors.text};\n`;\n\nconst LoadingMessage = styled.div`\n  text-align: center;\n  padding: ${props => props.theme.spacing.xl};\n  color: ${props => props.theme.colors.textSecondary};\n`;\n\nfunction getStatusColor(status, theme) {\n  switch (status) {\n    case 'normal':\n      return theme.colors.success;\n    case 'warning':\n      return theme.colors.warning;\n    case 'critical':\n      return theme.colors.danger;\n    default:\n      return theme.colors.textMuted;\n  }\n}\n\nfunction getUnitStatus(sensorData) {\n  if (!sensorData) return 'unknown';\n\n  const { reservoir } = sensorData;\n  if (!reservoir) return 'unknown';\n\n  // Check critical ranges\n  if (reservoir.ph < 5.5 || reservoir.ph > 7.5) return 'critical';\n  if (reservoir.tds < 500 || reservoir.tds > 1500) return 'critical';\n  if (reservoir.water_level < 20) return 'critical';\n\n  // Check warning ranges\n  if (reservoir.ph < 6.0 || reservoir.ph > 7.0) return 'warning';\n  if (reservoir.tds < 700 || reservoir.tds > 1300) return 'warning';\n  if (reservoir.water_level < 50) return 'warning';\n\n  return 'normal';\n}\n\nconst Dashboard = () => {\n  const [hydroUnitsData, setHydroUnitsData] = useState({});\n  const [roomData, setRoomData] = useState({ front: null, back: null });\n  const [loading, setLoading] = useState(true);\n  const { connected } = useSocket();\n\n  const hydroUnits = [\n    { id: 'DWC1', name: 'Deep Water Culture 1', type: 'Deep Water Culture', icon: 'üíß' },\n    { id: 'DWC2', name: 'Deep Water Culture 2', type: 'Deep Water Culture', icon: 'üíß' },\n    { id: 'NFT', name: 'Nutrient Film Technique', type: 'NFT System', icon: 'üåä' },\n    { id: 'AERO', name: 'Aeroponic System', type: 'Aeroponic', icon: 'üí®' },\n    { id: 'TROUGH', name: 'Trough Based System', type: 'Trough System', icon: 'üîÑ' }\n  ];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch hydro units data\n        const hydroPromises = hydroUnits.map(async (unitId) => {\n          const response = await axios.get(`/units/${unitId}/sensors`);\n          return { unitId, data: response.data };\n        });\n\n        const hydroResults = await Promise.all(hydroPromises);\n        const hydroData = {};\n        hydroResults.forEach(({ unitId, data }) => {\n          hydroData[unitId] = data;\n        });\n        setHydroUnitsData(hydroData);\n\n        // Fetch room data\n        const [frontResponse, backResponse] = await Promise.all([\n          axios.get('/room/front/sensors'),\n          axios.get('/room/back/sensors')\n        ]);\n\n        setRoomData({\n          front: frontResponse.data,\n          back: backResponse.data\n        });\n      } catch (error) {\n        console.error('Error fetching dashboard data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n    const interval = setInterval(fetchData, 30000); // Refresh every 30 seconds\n\n    return () => clearInterval(interval);\n  }, []);\n\n  if (loading) {\n    return <LoadingMessage>Loading dashboard data...</LoadingMessage>;\n  }\n\n  return (\n    <Container>\n      {/* System Overview */}\n      <Section>\n        <SectionTitle>üåø System Overview</SectionTitle>\n        <div className=\"card-grid\">\n          <SensorCard\n            title=\"Total Units\"\n            value={hydroUnits.length}\n            unit=\"units\"\n            status=\"normal\"\n            icon=\"üå±\"\n          />\n          <SensorCard\n            title=\"Active Units\"\n            value={Object.keys(hydroUnitsData).length}\n            unit=\"online\"\n            status={Object.keys(hydroUnitsData).length === hydroUnits.length ? 'normal' : 'warning'}\n            icon=\"‚úÖ\"\n          />\n          <SensorCard\n            title=\"Average pH\"\n            value={\n              Object.values(hydroUnitsData).length > 0\n                ? Object.values(hydroUnitsData)\n                    .reduce((sum, unit) => sum + (unit.reservoir?.ph || 0), 0) /\n                  Object.values(hydroUnitsData).length\n                : 0\n            }\n            unit=\"\"\n            status=\"normal\"\n            icon=\"‚öóÔ∏è\"\n          />\n          <SensorCard\n            title=\"Connection\"\n            value={connected ? 'Online' : 'Offline'}\n            status={connected ? 'normal' : 'critical'}\n            icon=\"üì°\"\n          />\n        </div>\n      </Section>\n\n      {/* Hydro Units */}\n      <Section>\n        <SectionTitle>üå± Hydro Units</SectionTitle>\n        <UnitsGrid>\n          {hydroUnits.map((unitId) => {\n            const data = hydroUnitsData[unitId];\n            const status = getUnitStatus(data);\n\n            return (\n              <UnitCard key={unitId} to={`/hydro-units/${unitId}`}>\n                <UnitHeader>\n                  <UnitTitle>{unitId}</UnitTitle>\n                  <StatusBadge status={status}>{status}</StatusBadge>\n                </UnitHeader>\n\n                {data ? (\n                  <UnitMetrics>\n                    <MetricItem>\n                      <MetricLabel>pH</MetricLabel>\n                      <MetricValue>{data.reservoir?.ph?.toFixed(1) || 'N/A'}</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>TDS</MetricLabel>\n                      <MetricValue>{data.reservoir?.tds || 'N/A'}</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>Water Temp</MetricLabel>\n                      <MetricValue>{data.reservoir?.water_temp?.toFixed(1) || 'N/A'}¬∞C</MetricValue>\n                    </MetricItem>\n                    <MetricItem>\n                      <MetricLabel>Water Level</MetricLabel>\n                      <MetricValue>{data.reservoir?.water_level || 'N/A'}%</MetricValue>\n                    </MetricItem>\n                  </UnitMetrics>\n                ) : (\n                  <LoadingMessage>Loading...</LoadingMessage>\n                )}\n              </UnitCard>\n            );\n          })}\n        </UnitsGrid>\n      </Section>\n\n      {/* Room Monitoring */}\n      <Section>\n        <SectionTitle>üè† Room Monitoring</SectionTitle>\n        <div className=\"card-grid\">\n          {/* Front Room */}\n          {roomData.front && (\n            <>\n              <SensorCard\n                title=\"Front Room Temp\"\n                value={roomData.front.bme?.temp}\n                unit=\"¬∞C\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 18, max: 30 },\n                  critical: { min: 15, max: 35 }\n                }}\n                icon=\"üå°Ô∏è\"\n              />\n              <SensorCard\n                title=\"Front Room Humidity\"\n                value={roomData.front.bme?.humidity}\n                unit=\"%\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 40, max: 80 },\n                  critical: { min: 30, max: 90 }\n                }}\n                icon=\"üíß\"\n              />\n              <SensorCard\n                title=\"Front Room CO2\"\n                value={roomData.front.co2}\n                unit=\"ppm\"\n                timestamp={roomData.front.timestamp}\n                ranges={{\n                  warning: { min: 300, max: 1200 },\n                  critical: { min: 250, max: 1500 }\n                }}\n                icon=\"üå¨Ô∏è\"\n              />\n            </>\n          )}\n\n          {/* Back Room */}\n          {roomData.back && (\n            <>\n              <SensorCard\n                title=\"Back Room Temp\"\n                value={roomData.back.bme?.temp}\n                unit=\"¬∞C\"\n                timestamp={roomData.back.timestamp}\n                ranges={{\n                  warning: { min: 18, max: 30 },\n                  critical: { min: 15, max: 35 }\n                }}\n                icon=\"üå°Ô∏è\"\n              />\n              <SensorCard\n                title=\"Back Room AC\"\n                value={roomData.back.ac?.current_set_temp}\n                unit=\"¬∞C\"\n                status=\"normal\"\n                timestamp={roomData.back.timestamp}\n                icon=\"‚ùÑÔ∏è\"\n              />\n            </>\n          )}\n        </div>\n      </Section>\n    </Container>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}